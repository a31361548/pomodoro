import{p as H,m as oe,ao as xe,b0 as ke,g as J,l as y,s as ee,b as t,$ as X,aw as Z,av as Ve,I as ne,aG as ae,N as Ie,v as pe,z as Pe,B as Se,X as we,E as Fe,aq as Be,aC as $e,r as S,ar as Te,as as Re,aA as Le,w as Ee,aa as Ae,a1 as De,b1 as Ne,ax as L,d as Y,i as Ue,b2 as Me,b3 as Oe,ap as qe,b4 as Ke,a0 as We,b5 as Xe,n as se,b6 as je,aQ as ze,aR as P,aS as Ge,aT as $,aU as Qe,b7 as ue,aV as o,aZ as T,a_ as re,u as R,a$ as de,aW as ce,aX as W}from"./index-bdc739fa.js";import{n as Ye,a as Ze,s as He,f as Je,u as et}from"./forwardRefs-8c5298de.js";import{b as tt,m as lt,u as ye,e as nt,a as at,V as fe,c as G,d as ot}from"./VLabel-1570a014.js";import{V as ve}from"./VTable-8a6b74b9.js";const it=H({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...oe(),...xe({transition:{component:ke}})},"VCounter"),st=J()({name:"VCounter",functional:!0,props:it(),setup(e,f){let{slots:i}=f;const I=y(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ee(()=>t(Ve,{transition:e.transition},{default:()=>[X(t("div",{class:["v-counter",e.class],style:e.style},[i.default?i.default({counter:I.value,max:e.max,value:e.value}):I.value]),[[Z,e.active]])]})),{}}});const ut=H({floating:Boolean,...oe()},"VFieldLabel"),Q=J()({name:"VFieldLabel",props:ut(),setup(e,f){let{slots:i}=f;return ee(()=>t(tt,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},i)),{}}}),rt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ge=H({appendInnerIcon:ne,bgColor:String,clearable:Boolean,clearIcon:{type:ne,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ne,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>rt.includes(e)},"onClick:clear":ae(),"onClick:appendInner":ae(),"onClick:prependInner":ae(),...oe(),...Ie(),...pe(),...Pe()},"VField"),_e=J()({name:"VField",inheritAttrs:!1,props:{id:String,...lt(),...ge()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,f){let{attrs:i,emit:I,slots:l}=f;const{themeClasses:g}=Se(e),{loaderClasses:p}=we(e),{focusClasses:K,isFocused:A,focus:D,blur:w}=ye(e),{InputIcon:h}=nt(e),{roundedClasses:N}=Fe(e),{rtlClasses:E}=Be(),C=y(()=>e.dirty||e.active),u=y(()=>!e.singleLine&&!!(e.label||l.label)),r=$e(),s=y(()=>e.id||`input-${r}`),n=y(()=>`${s.value}-messages`),F=S(),d=S(),j=S(),a=y(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:_,backgroundColorStyles:b}=Te(Re(e,"bgColor")),{textColorClasses:x,textColorStyles:te}=Le(y(()=>e.error||e.disabled?void 0:C.value&&A.value?e.color:e.baseColor));Ee(C,v=>{if(u.value){const c=F.value.$el,k=d.value.$el;requestAnimationFrame(()=>{const V=Ye(c),m=k.getBoundingClientRect(),M=m.x-V.x,O=m.y-V.y-(V.height/2-m.height/2),B=m.width/.75,q=Math.abs(B-V.width)>1?{maxWidth:Ae(B)}:void 0,z=getComputedStyle(c),ie=getComputedStyle(k),be=parseFloat(z.transitionDuration)*1e3||150,he=parseFloat(ie.getPropertyValue("--v-field-label-scale")),Ce=ie.getPropertyValue("color");c.style.visibility="visible",k.style.visibility="hidden",Ze(c,{transform:`translate(${M}px, ${O}px) scale(${he})`,color:Ce,...q},{duration:be,easing:He,direction:v?"normal":"reverse"}).finished.then(()=>{c.style.removeProperty("visibility"),k.style.removeProperty("visibility")})})}},{flush:"post"});const U=y(()=>({isActive:C,isFocused:A,controlRef:j,blur:w,focus:D}));function le(v){v.target!==document.activeElement&&v.preventDefault()}return ee(()=>{var M,O,B;const v=e.variant==="outlined",c=l["prepend-inner"]||e.prependInnerIcon,k=!!(e.clearable||l.clear),V=!!(l["append-inner"]||e.appendInnerIcon||k),m=()=>l.label?l.label({...U.value,label:e.label,props:{for:s.value}}):e.label;return t("div",Y({class:["v-field",{"v-field--active":C.value,"v-field--appended":V,"v-field--center-affix":e.centerAffix??!a.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":c,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!m(),[`v-field--variant-${e.variant}`]:!0},g.value,_.value,K.value,p.value,N.value,E.value,e.class],style:[b.value,e.style],onClick:le},i),[t("div",{class:"v-field__overlay"},null),t(De,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),c&&t("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&t(h,{key:"prepend-icon",name:"prependInner"},null),(M=l["prepend-inner"])==null?void 0:M.call(l,U.value)]),t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&u.value&&t(Q,{key:"floating-label",ref:d,class:[x.value],floating:!0,for:s.value,style:te.value},{default:()=>[m()]}),t(Q,{ref:F,for:s.value},{default:()=>[m()]}),(O=l.default)==null?void 0:O.call(l,{...U.value,props:{id:s.value,class:"v-field__input","aria-describedby":n.value},focus:D,blur:w})]),k&&t(Ne,{key:"clear"},{default:()=>[X(t("div",{class:"v-field__clearable",onMousedown:q=>{q.preventDefault(),q.stopPropagation()}},[l.clear?l.clear():t(h,{name:"clear"},null)]),[[Z,e.dirty]])]}),V&&t("div",{key:"append",class:"v-field__append-inner"},[(B=l["append-inner"])==null?void 0:B.call(l,U.value),e.appendInnerIcon&&t(h,{key:"append-icon",name:"appendInner"},null)]),t("div",{class:["v-field__outline",x.value],style:te.value},[v&&t(L,null,[t("div",{class:"v-field__outline__start"},null),u.value&&t("div",{class:"v-field__outline__notch"},[t(Q,{ref:d,floating:!0,for:s.value},{default:()=>[m()]})]),t("div",{class:"v-field__outline__end"},null)]),a.value&&u.value&&t(Q,{ref:d,floating:!0,for:s.value},{default:()=>[m()]})])])}),{controlRef:j}}});function dt(e){const f=Object.keys(_e.props).filter(i=>!Ue(i)&&i!=="class"&&i!=="style");return Me(e,f)}const ct=["color","file","time","date","datetime-local","week","month"],ft=H({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...at(),...ge()},"VTextField"),me=J()({name:"VTextField",directives:{Intersect:Oe},inheritAttrs:!1,props:ft(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,f){let{attrs:i,emit:I,slots:l}=f;const g=qe(e,"modelValue"),{isFocused:p,focus:K,blur:A}=ye(e),D=y(()=>typeof e.counterValue=="function"?e.counterValue(g.value):typeof e.counterValue=="number"?e.counterValue:(g.value??"").toString().length),w=y(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),h=y(()=>["plain","underlined"].includes(e.variant));function N(a,_){var b,x;!e.autofocus||!a||(x=(b=_[0].target)==null?void 0:b.focus)==null||x.call(b)}const E=S(),C=S(),u=S(),r=y(()=>ct.includes(e.type)||e.persistentPlaceholder||p.value||e.active);function s(){var a;u.value!==document.activeElement&&((a=u.value)==null||a.focus()),p.value||K()}function n(a){I("mousedown:control",a),a.target!==u.value&&(s(),a.preventDefault())}function F(a){s(),I("click:control",a)}function d(a){a.stopPropagation(),s(),se(()=>{g.value=null,je(e["onClick:clear"],a)})}function j(a){var b;const _=a.target;if(g.value=_.value,(b=e.modelModifiers)!=null&&b.trim&&["text","search","password","tel","url"].includes(e.type)){const x=[_.selectionStart,_.selectionEnd];se(()=>{_.selectionStart=x[0],_.selectionEnd=x[1]})}}return ee(()=>{const a=!!(l.counter||e.counter!==!1&&e.counter!=null),_=!!(a||l.details),[b,x]=Ke(i),{modelValue:te,...U}=fe.filterProps(e),le=dt(e);return t(fe,Y({ref:E,modelValue:g.value,"onUpdate:modelValue":v=>g.value=v,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":h.value},e.class],style:e.style},b,U,{centerAffix:!h.value,focused:p.value}),{...l,default:v=>{let{id:c,isDisabled:k,isDirty:V,isReadonly:m,isValid:M}=v;return t(_e,Y({ref:C,onMousedown:n,onClick:F,"onClick:clear":d,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},le,{id:c.value,active:r.value||V.value,dirty:V.value||e.dirty,disabled:k.value,focused:p.value,error:M.value===!1}),{...l,default:O=>{let{props:{class:B,...q}}=O;const z=X(t("input",Y({ref:u,value:g.value,onInput:j,autofocus:e.autofocus,readonly:m.value,disabled:k.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:s,onBlur:A},q,x),null),[[We("intersect"),{handler:N},null,{once:!0}]]);return t(L,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[t("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?t("div",{class:B,"data-no-activator":""},[l.default(),z]):Xe(z,{class:B}),e.suffix&&t("span",{class:"v-text-field__suffix"},[t("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:_?v=>{var c;return t(L,null,[(c=l.details)==null?void 0:c.call(l,v),a&&t(L,null,[t("span",null,null),t(st,{active:e.persistentCounter||p.value,value:D.value,max:w.value},l.counter)])])}:void 0})}),Je({},E,C,u)}}),vt=o("h1",{class:"text-center"},"事項",-1),mt=o("thead",null,[o("tr",null,[o("th",null,"名稱"),o("th",null,"操作")])],-1),yt={key:0},gt=o("td",{colspan:"2"},"沒有事項",-1),_t=[gt],bt=o("h1",{class:"text-center"},"已完成事項",-1),ht=o("thead",null,[o("tr",null,[o("th",null,"名稱"),o("th",null,"操作")])],-1),Ct={key:0},xt=o("td",{colspan:"2"},"沒有已完成事項",-1),kt=[xt],St={__name:"ListView",setup(e){const f=et(),{items:i,finishedItems:I}=ze(f),{addItem:l,editItem:g,delItem:p,cancelEditItem:K,confirmEditItem:A,delFinishedItem:D}=f,w=S(""),h=S(null),N=S([]),E=async()=>{const r=await h.value.validate();console.log(r),!(r.length>0)&&(l(w.value),h.value.reset())},C=async(r,s)=>{(await N.value[s].validate()).length>0||A(r)},u={required:r=>!!r||"欄位必填",length:r=>r.length>=3||"必須三個字以上"};return(r,s)=>(P(),Ge(Qe,null,{default:$(()=>[t(ot,null,{default:$(()=>[t(G,{cols:"12"},{default:$(()=>[vt]),_:1}),t(G,{cols:"12"},{default:$(()=>[t(me,{variant:"solo-filled",label:"新增事項",modelValue:w.value,"onUpdate:modelValue":s[0]||(s[0]=n=>w.value=n),rules:[u.required,u.length],"append-icon":"mdi-plus",ref_key:"newItemInput",ref:h,"onClick:append":E,onKeydown:ue(E,["enter"])},null,8,["modelValue","rules"]),t(ve,null,{default:$(()=>[mt,o("tbody",null,[(P(!0),T(L,null,re(R(i),(n,F)=>(P(),T("tr",{key:n.id},[o("td",null,[X(o("span",null,ce(n.name),513),[[Z,!n.edit]]),X(t(me,{modelValue:n.model,"onUpdate:modelValue":d=>n.model=d,rules:[u.required,u.length],ref_for:!0,ref_key:"editItemInput",ref:N,onKeydown:ue(d=>C(n.id,F),["enter"]),autofocus:""},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[Z,n.edit]])]),o("td",null,[n.edit?(P(),T(L,{key:1},[t(W,{icon:"mdi-check",variant:"text",color:"green",onClick:d=>C(n.id,F)},null,8,["onClick"]),t(W,{icon:"mdi-undo",variant:"text",color:"red",onClick:d=>R(K)(n.id)},null,8,["onClick"])],64)):(P(),T(L,{key:0},[t(W,{icon:"mdi-pencil",variant:"text",color:"green",onClick:d=>R(g)(n.id)},null,8,["onClick"]),t(W,{icon:"mdi-delete",variant:"text",color:"red",onClick:d=>R(p)(n.id)},null,8,["onClick"])],64))])]))),128)),R(i).length===0?(P(),T("tr",yt,_t)):de("",!0)])]),_:1})]),_:1}),t(G,{cols:"12"},{default:$(()=>[bt]),_:1}),t(G,{col:"12"},{default:$(()=>[t(ve,null,{default:$(()=>[ht,o("tbody",null,[(P(!0),T(L,null,re(R(I),n=>(P(),T("tr",{key:n.id},[o("td",null,ce(n.name),1),o("td",null,[t(W,{icon:"mdi-delete",variant:"text",color:"red",onClick:F=>R(D)(n.id)},null,8,["onClick"])])]))),128)),R(I).length===0?(P(),T("tr",Ct,kt)):de("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{St as default};
